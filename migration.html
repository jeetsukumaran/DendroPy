<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DendroPy 4 Changes and Migration Primer &#8212; DendroPy 5.0.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/rtd.css?v=cedc6a2f" />
    
    <script src="_static/documentation_options.js?v=ede7f5ad"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DendroPy News" href="news.html" />
    <link rel="prev" title="Glossary and Terminological Reference" href="glossary.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="news.html" title="DendroPy News"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary and Terminological Reference"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DendroPy 5.0.8 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">DendroPy 4 Changes and Migration Primer</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="dendropy-4-changes-and-migration-primer">
<h1>DendroPy 4 Changes and Migration Primer<a class="headerlink" href="#dendropy-4-changes-and-migration-primer" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Updated for full (and exclusive) Python 3.x compatibility.</p></li>
<li><p>Faster, better, stronger! Core serialization/deserialization infrastructure
rewritten from the ground up, with <em>many</em> optimizations for speed and
reliability.</p></li>
</ul>
</section>
<section id="python-version-compatibility">
<h2>Python Version Compatibility<a class="headerlink" href="#python-version-compatibility" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Compatibility: Python 3 is fully supported. The only version of Python 2
supported is Python 2.7.</p>
<blockquote>
<div><ul class="simple">
<li><p>Python 2: Python 2.7</p></li>
<li><p>Python 3: Python 3.1, 3.2, 3.3, 3.4</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="library-wide-changes">
<h2>Library-Wide Changes<a class="headerlink" href="#library-wide-changes" title="Link to this heading">¶</a></h2>
<section id="public-module-reorganization">
<h3>Public Module Reorganization<a class="headerlink" href="#public-module-reorganization" title="Link to this heading">¶</a></h3>
<p>A number of modules have been renamed, moved, or split into multiple modules.
Calls to the old module should continue to work, albeit with warnings exhorting
that you update to the latest configuration.</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.treecalc</span></code> has been split into three submodules depending on
whether the statistic or value being calculated is on a single tree, a
single tree and a dataset, or two trees:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="library/treemeasure.html#module-dendropy.calculate.treemeasure" title="dendropy.calculate.treemeasure"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.calculate.treemeasure</span></code></a>
For calculation of statistics, metrics, and values on a single tree.</p></li>
<li><p><a class="reference internal" href="library/treecompare.html#module-dendropy.calculate.treecompare" title="dendropy.calculate.treecompare"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.calculate.treecompare</span></code></a>
For calculation of statistics, metrics, and values of two trees
(e.g., Robinson-Fould’s distances).</p></li>
<li><p><a class="reference internal" href="library/treescore.html#module-dendropy.calculate.treescore" title="dendropy.calculate.treescore"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.calculate.treescore</span></code></a>
For calculation of statistics, metrics, and values of a tree with
reference to a dataset under some criterion.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The functionality provided <code class="docutils literal notranslate"><span class="pre">dendropy.treesplit</span></code> has been largely subsumed by the new <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Bipartition" title="dendropy.datamodel.treemodel.Bipartition"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bipartition</span></code></a> class.</p></li>
<li><p>The functionality provided by <code class="docutils literal notranslate"><span class="pre">dendropy.treesum</span></code> has been largely subsumed by the new <a class="reference internal" href="library/treecollectionmodel.html#dendropy.datamodel.treecollectionmodel.TreeArray" title="dendropy.datamodel.treecollectionmodel.TreeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeArray</span></code></a> class, a high-performance class for efficiently managing and carrying out operations on large collections of large trees.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.reconcile</span></code> has been moved to <a class="reference internal" href="library/reconcile.html#module-dendropy.model.reconcile" title="dendropy.model.reconcile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.model.reconcile</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.coalescent</span></code> has been moved to <a class="reference internal" href="library/coalescent.html#module-dendropy.model.coalescent" title="dendropy.model.coalescent"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.model.coalescent</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.popgenstat</span></code> has been moved to <a class="reference internal" href="library/popgenstat.html#module-dendropy.calculate.popgenstat" title="dendropy.calculate.popgenstat"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.calculate.popgenstat</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.treesim</span></code> has been moved to <a class="reference internal" href="library/treesim.html#module-dendropy.simulate.treesim" title="dendropy.simulate.treesim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.simulate.treesim</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dendropy.popgensim</span></code> has been moved to <a class="reference internal" href="library/popgensim.html#module-dendropy.simulate.popgensim" title="dendropy.simulate.popgensim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.simulate.popgensim</span></code></a>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="behind-the-scenes-module-reorganization">
<h3>Behind-the-Scenes Module Reorganization<a class="headerlink" href="#behind-the-scenes-module-reorganization" title="Link to this heading">¶</a></h3>
<ul>
<li><p>In constrast to the above, the following changes <em>should</em> be opaque to most
normal usage and client code. Most of the names (classes/methods/variables)
in these modules were imported into the ‘<code class="docutils literal notranslate"><span class="pre">dendropy</span></code>’ namespace, and this is
how all public code should be accessing them, <em>or</em> they were never exposed
(or meant to be exposed) for public usage in the first place. A list of
module changes:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DendroPy 3</p></th>
<th class="head"><p>DendroPy 4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.dataobject.base</span></code></p></td>
<td><p><a class="reference internal" href="library/basemodel.html#module-dendropy.datamodel.basemodel" title="dendropy.datamodel.basemodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.basemodel</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.dataobject.taxon</span></code></p></td>
<td><p><a class="reference internal" href="library/taxonmodel.html#module-dendropy.datamodel.taxonmodel" title="dendropy.datamodel.taxonmodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.taxonmodel</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.dataobject.tree</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#module-dendropy.datamodel.treemodel" title="dendropy.datamodel.treemodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.treemodel</span></code></a>
<a class="reference internal" href="library/treecollectionmodel.html#module-dendropy.datamodel.treecollectionmodel" title="dendropy.datamodel.treecollectionmodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.treecollectionmodel</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.dataobject.char</span></code></p></td>
<td><p><a class="reference internal" href="library/charstatemodel.html#module-dendropy.datamodel.charstatemodel" title="dendropy.datamodel.charstatemodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.charstatemodel</span></code></a>,
<a class="reference internal" href="library/charmatrixmodel.html#module-dendropy.datamodel.charmatrixmodel" title="dendropy.datamodel.charmatrixmodel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dendropy.datamodel.charmatrixmodel</span></code></a></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</section>
<section id="unique-object-identifier-oid-attributes-removed">
<h3>Unique Object Identifier (”<code class="docutils literal notranslate"><span class="pre">oid</span></code>”) Attributes Removed<a class="headerlink" href="#unique-object-identifier-oid-attributes-removed" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The entire <code class="docutils literal notranslate"><span class="pre">oid</span></code> system (“object identifier”), i.e., the unique id assigned
to every data object, has been removed. This was an implementation artifact
from NEXML parsing that greatly slowed down a number of operations without
any benefit or utility for most normal operations.</p></li>
</ul>
</section>
</section>
<section id="taxonset-is-now-taxonnamespace">
<h2><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonSet</span></code> is now <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code><a class="headerlink" href="#taxonset-is-now-taxonnamespace" title="Link to this heading">¶</a></h2>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">dendropy.TaxonSet</span></code> class has been renamed <a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace" title="dendropy.datamodel.taxonmodel.TaxonNamespace"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code></a>,
(and the corresponding <code class="docutils literal notranslate"><span class="pre">taxon_set</span></code> attribute of phylogenetic data objects
that reference a taxonomic context has been renamed <code class="docutils literal notranslate"><span class="pre">taxon_namespace</span></code>).</p></li>
<li><p>The <a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace" title="dendropy.datamodel.taxonmodel.TaxonNamespace"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code></a> class replaces the <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonSet</span></code> class as the
manager for the <code class="xref py py-class docutils literal notranslate"><span class="pre">Taxon</span></code> objects.</p></li>
<li><p>The API is largely similar with the following differences:</p>
<blockquote>
<div><ul class="simple">
<li><p>Calls to the
<a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace.__getitem__" title="dendropy.datamodel.taxonmodel.TaxonNamespace.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__</span></code></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__delitem__</span></code> methods
(e.g. <code class="docutils literal notranslate"><span class="pre">TaxonNamespace[x]</span></code>) now only accept integer values as arguments
(representing indexes into the list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Taxon</span></code> objects in the
internal array).</p></li>
<li><dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">TaxonSet.has_taxon</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">TaxonSet.has_taxa</span></code> have been</dt><dd><p>replaced by <code class="xref py py-meth docutils literal notranslate"><span class="pre">TaxonNamespace.has_taxon_label</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">TaxonNamespace.has_taxa_labels</span></code> respectively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Various new methods for accessing and managing the collection of</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Taxon</span></code> objects (e.g., <a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace.findall" title="dendropy.datamodel.taxonmodel.TaxonNamespace.findall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">findall</span></code></a>, <a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace.remove_taxon" title="dendropy.datamodel.taxonmodel.TaxonNamespace.remove_taxon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_taxon</span></code></a>, <a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace.remove_taxon_label" title="dendropy.datamodel.taxonmodel.TaxonNamespace.remove_taxon_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_taxon_label</span></code></a>,
<a class="reference internal" href="library/taxonmodel.html#dendropy.datamodel.taxonmodel.TaxonNamespace.discard_taxon_label" title="dendropy.datamodel.taxonmodel.TaxonNamespace.discard_taxon_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">discard_taxon_label</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__delitem__</span></code>, etc.)</p>
</dd>
</dl>
</li>
<li><p>Numerous look-up methods took ‘<code class="docutils literal notranslate"><span class="pre">case_insensitive</span></code>’ as an argument that
determined whether the look-up was case sensitive or not (when
retrieving, for example, a <code class="xref py py-class docutils literal notranslate"><span class="pre">Taxon</span></code> object corresponding to a
particular label), which, if not specified, default to <code class="docutils literal notranslate"><span class="pre">False</span></code>, i.e. a
non-caseless or a case-sensitive matching criteria. In all cases, this
has been changed to to ‘<code class="docutils literal notranslate"><span class="pre">case_sensitive</span></code>’ with a default of <code class="docutils literal notranslate"><span class="pre">True</span></code>. That
is, searches by default are still case-sensitive, but now you will have
to specify ‘<code class="docutils literal notranslate"><span class="pre">case_sensitive=False</span></code>’ instead of ‘<code class="docutils literal notranslate"><span class="pre">case_insensitive=True</span></code>’
to perform a case-insensitive search. This change was for consistency
with the rest of the library.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>In most cases, a simple global search-and-replace of “TaxonSet” with
“TaxonNamespace” and “<code class="docutils literal notranslate"><span class="pre">taxon_set</span></code>” with “<code class="docutils literal notranslate"><span class="pre">taxon_namespace</span></code>” should be
sufficient to bring existing code into line with DendroPy 4.</p></li>
<li><p>For legacy support, a class called <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonSet</span></code> exists. This derives with no
modifications from <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code>. Instantiating objects of this class
will result in warnings being emitted. As long as usage of <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonSet</span></code> does
conforms to the above API change notes, old or legacy code should continue
to work unchanged (albeit, with some warning noise). This support is
temporary and will be removed in upcoming releases: code should update to
using <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code> as soon as expedient.</p></li>
<li><p>For legacy support, “<code class="docutils literal notranslate"><span class="pre">taxon_set</span></code>” continues to be accepted and processed as
an attribute name and keyword argument synonymous with “<code class="docutils literal notranslate"><span class="pre">taxon_namespace</span></code>”.
Usage of this will result in warnings being emitted, but code should
continue to function as expected. This support is temporary and will be
removed in upcoming releases: code should update to using
“<code class="docutils literal notranslate"><span class="pre">taxon_namespace</span></code>” as soon as expedient.</p></li>
</ul>
</section>
<section id="the-node-class">
<h2>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> Class<a class="headerlink" href="#the-node-class" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Constructor now only accepts keyword arguments (and <code class="docutils literal notranslate"><span class="pre">oid</span></code> is <em>not</em> one of them!).</p></li>
<li><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Node.add_child" title="dendropy.datamodel.treemodel.Node.add_child"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_child</span></code></a> no longer accepts <code class="docutils literal notranslate"><span class="pre">pos</span></code> as an argument to indicate
position in which a child should be inserted. Use <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Node.insert_child" title="dendropy.datamodel.treemodel.Node.insert_child"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insert_child</span></code></a>
which takes a position specified by <code class="docutils literal notranslate"><span class="pre">index</span></code> and a node specified by <code class="docutils literal notranslate"><span class="pre">node</span></code>
for this functionality instead.</p></li>
</ul>
</section>
<section id="the-edge-class">
<h2>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> Class<a class="headerlink" href="#the-edge-class" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Constructor now only accepts keyword arguments (and <code class="docutils literal notranslate"><span class="pre">oid</span></code> is <em>not</em> one of them!).</p></li>
<li><p>Because <code class="docutils literal notranslate"><span class="pre">tail_node</span></code> is no longer an independent attribute but a dynamic
property, bound to <code class="xref py py-attr docutils literal notranslate"><span class="pre">Node._parent_node</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">head_node</span></code>
(see below), the <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> constructor does <em>not</em> accept <code class="docutils literal notranslate"><span class="pre">tail_node</span></code> as
an argument.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tail_node</span></code> of an <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> object is now a dynamic property,
referencing the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Node._parent_node</span></code> attribute of the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Edge._head_node</span></code> of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> object. So, now updating
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Edge._tail_node</span></code> of an <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> object will set the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Node._parent_node</span></code> of its <code class="xref py py-attr docutils literal notranslate"><span class="pre">Edge._head_node</span></code> to the new value,
and vice versa.  This avoids the need for independent book-keeping logic to
ensure that <code class="xref py py-attr docutils literal notranslate"><span class="pre">Node._parent_node</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Edge._tail_node</span></code> are always
synchronized to reference the same <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> object and all the potential
errors this might cause.</p></li>
</ul>
</section>
<section id="the-tree-class">
<h2>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Tree</span></code> Class<a class="headerlink" href="#the-tree-class" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Constructor no longer supports they <code class="docutils literal notranslate"><span class="pre">stream</span></code> keyword argument to construct
the new <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree" title="dendropy.datamodel.treemodel.Tree"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tree</span></code></a> object from a data source. Use the factory class
method: <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.get_from_stream" title="dendropy.datamodel.treemodel.Tree.get_from_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_from_stream</span></code></a> instead.</p></li>
<li><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.nodes" title="dendropy.datamodel.treemodel.Tree.nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nodes</span></code></a> : sorting option removed; use <code class="xref py py-func docutils literal notranslate"><span class="pre">nodes())</span></code> instead.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">node_set</span></code> : removed; use <code class="xref py py-func docutils literal notranslate"><span class="pre">nodes())</span></code> instead.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">edge_set</span></code> : removed; use <code class="xref py py-func docutils literal notranslate"><span class="pre">edges())</span></code> instead.</p></li>
<li><p>For consistency with <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.preorder_node_iter" title="dendropy.datamodel.treemodel.Tree.preorder_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">preorder_node_iter</span></code></a>,
<a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.postorder_node_iter" title="dendropy.datamodel.treemodel.Tree.postorder_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">postorder_node_iter</span></code></a>, a number of iteration methods have been renamed.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DendroPy 3</p></th>
<th class="head"><p>DendroPy 4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Tree.level_order_node_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.levelorder_node_iter" title="dendropy.datamodel.treemodel.Tree.levelorder_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">levelorder_node_iter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Tree.level_order_edge_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.levelorder_edge_iter" title="dendropy.datamodel.treemodel.Tree.levelorder_edge_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">levelorder_edge_iter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Node.level_order_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Node.levelorder_iter" title="dendropy.datamodel.treemodel.Node.levelorder_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">levelorder_iter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Tree.age_order_node_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.ageorder_node_iter" title="dendropy.datamodel.treemodel.Tree.ageorder_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ageorder_node_iter</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Node.age_order_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Node.ageorder_iter" title="dendropy.datamodel.treemodel.Node.ageorder_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ageorder_iter</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Tree.leaf_iter()</span></code></p></td>
<td><p><a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.leaf_node_iter" title="dendropy.datamodel.treemodel.Tree.leaf_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">leaf_node_iter</span></code></a></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The old names are still supported for now (with warnings being emitted),
but new code should start using the newer names.  In additon, support for
in-order or infix tree traversal has been added:
<a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.inorder_node_iter" title="dendropy.datamodel.treemodel.Tree.inorder_node_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inorder_node_iter</span></code></a>, <a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.inorder_edge_iter" title="dendropy.datamodel.treemodel.Tree.inorder_edge_iter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inorder_edge_iter</span></code></a>.</p>
</li>
<li><p>Instead of <code class="docutils literal notranslate"><span class="pre">tree_source_iter</span></code> and <code class="docutils literal notranslate"><span class="pre">multi_tree_source_iter</span></code>, use
<a class="reference internal" href="library/treemodel.html#dendropy.datamodel.treemodel.Tree.yield_from_files" title="dendropy.datamodel.treemodel.Tree.yield_from_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">yield_from_files</span></code></a></p></li>
</ul>
</section>
<section id="newick-format-reading">
<h2>NEWICK-format Reading<a class="headerlink" href="#newick-format-reading" title="Link to this heading">¶</a></h2>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">suppress_external_taxon_labels</span></code> and <code class="docutils literal notranslate"><span class="pre">suppress_external_node_labels</span></code> keyword
arguments have been replaced by <code class="docutils literal notranslate"><span class="pre">suppress_leaf_taxon_labels</span></code> and
<code class="docutils literal notranslate"><span class="pre">suppress_leaf_node_labels</span></code>, respectively. This is for consistency with the
rest of the library (including writing in NEWICK-format), which uses the term
“leaf” rather than “external”.</p></li>
<li><p>The various boolean rooting directive switches (<code class="docutils literal notranslate"><span class="pre">as_rooted</span></code>,
<code class="docutils literal notranslate"><span class="pre">default_as_rooted</span></code>, etc.) have been replaced by a single argument:
<code class="docutils literal notranslate"><span class="pre">rooting</span></code>. This can take on one of the following (string) values:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>rooting=”default-unrooted”</dt><dd><p>Interpret trees following rooting token (”<code class="docutils literal notranslate"><span class="pre">[&amp;R]</span></code>” for rooted,
“<code class="docutils literal notranslate"><span class="pre">[&amp;U]</span></code>” for unrooted) if present; otherwise, intrepret trees as
unrooted.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>rooting”default-rooted”</dt><dd><p>Interpret trees following rooting token (”<code class="docutils literal notranslate"><span class="pre">[&amp;R]</span></code>” for rooted,
“<code class="docutils literal notranslate"><span class="pre">[&amp;U]</span></code>” for unrooted) if present; otherwise, intrepret trees as
rooted.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>rooting=”force-unrooted”</dt><dd><p>Unconditionally interpret all trees as unrooted.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>rooting=”force-rooted”</dt><dd><p>Unconditionally interpret all trees as rooted.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The value of the “<code class="docutils literal notranslate"><span class="pre">rooting</span></code>” argument defaults to “default-unrooted”, i.e.,
all trees are assumed to be unrooted unless a rooting token is present that
explicitly specifies the rooting state.</p>
</li>
</ul>
</section>
<section id="newick-format-writing">
<h2>NEWICK-format Writing<a class="headerlink" href="#newick-format-writing" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Previously, if <code class="docutils literal notranslate"><span class="pre">annotations_as_nhx</span></code> was <code class="docutils literal notranslate"><span class="pre">True</span></code>, metadata annotations would
be written out even if <code class="docutils literal notranslate"><span class="pre">suppress_annotations</span></code> was <code class="docutils literal notranslate"><span class="pre">True</span></code>. Now,
<code class="docutils literal notranslate"><span class="pre">suppress_annotations</span></code> must be <code class="docutils literal notranslate"><span class="pre">True</span></code> for annotations to be written out,
even if <code class="docutils literal notranslate"><span class="pre">annotations_as_nhx</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</section>
<section id="the-dataset-class">
<h2>The <code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code> Class<a class="headerlink" href="#the-dataset-class" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Constructor no longer supports they <code class="docutils literal notranslate"><span class="pre">stream</span></code> keyword argument to construct
the new <code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code> object from a data source. Use the factory class
method: <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataSet.get_from_stream</span></code> instead.</p></li>
<li><p>Constructor only accepts one unnamed (positional) argument: either a
<code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code> instance to be cloned, or an iterable of
<code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TreeList</span></code>, or
<code class="xref py py-class docutils literal notranslate"><span class="pre">CharacterMatrix</span></code>-derived instances to be composed (added) into the
new <code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code> instance.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code> no longer managed.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div style="text-align: center; padding-top: 20px; padding-bottom: 5px; width: 100%;">
    <a href="index.html"><img src="_static/dendropy_logo.png" /></a>
</div><div style="clear:both; width: 100%; height:1px;"></div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div style="clear:both; width: 100%; height:1px;"></div>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">DendroPy 4 Changes and Migration Primer</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#python-version-compatibility">Python Version Compatibility</a></li>
<li><a class="reference internal" href="#library-wide-changes">Library-Wide Changes</a><ul>
<li><a class="reference internal" href="#public-module-reorganization">Public Module Reorganization</a></li>
<li><a class="reference internal" href="#behind-the-scenes-module-reorganization">Behind-the-Scenes Module Reorganization</a></li>
<li><a class="reference internal" href="#unique-object-identifier-oid-attributes-removed">Unique Object Identifier (”<code class="docutils literal notranslate"><span class="pre">oid</span></code>”) Attributes Removed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#taxonset-is-now-taxonnamespace"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonSet</span></code> is now <code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonNamespace</span></code></a></li>
<li><a class="reference internal" href="#the-node-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> Class</a></li>
<li><a class="reference internal" href="#the-edge-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code> Class</a></li>
<li><a class="reference internal" href="#the-tree-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Tree</span></code> Class</a></li>
<li><a class="reference internal" href="#newick-format-reading">NEWICK-format Reading</a></li>
<li><a class="reference internal" href="#newick-format-writing">NEWICK-format Writing</a></li>
<li><a class="reference internal" href="#the-dataset-class">The <code class="xref py py-class docutils literal notranslate"><span class="pre">DataSet</span></code> Class</a></li>
</ul>
</li>
</ul>

  </div><div style="clear:both; width: 100%; height:1px;"></div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="glossary.html"
                          title="previous chapter">Glossary and Terminological Reference</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="news.html"
                          title="next chapter">DendroPy News</a></p>
  </div><div style="clear:both; width: 100%; height:1px;"></div>
    <!-- Documentation -->
    <div style="border-top: double 1px white; padding-top: 10px;">
        <h3>Documentation</h3>
        <ul>
            <li><a href="primer/downloading.html">Downloading and Installing DendroPy</a></li>
            <li><a href="primer/index.html">The DendroPy Primer</a></li>
            <li><a href="library/index.html">Library API Reference</a></li>
            <li>
                <a href="schemas/index.html">Schemas</a>
                <ul>
                    <li><a href="schemas/fasta.html">FASTA</a></li>
                    <li><a href="schemas/newick.html">Newick</a></li>
                    <li><a href="schemas/nexml.html">NeXML</a></li>
                    <li><a href="schemas/nexus.html">Nexus</a></li>
                    <li><a href="schemas/phylip.html">PHYLIP</a></li>
                </ul>
            </li>
            <li>
                <a href="programs/index.html">Programs</a>
                <ul>
                    <li><a href="programs/sumtrees.html">SumTrees</a></li>
                </ul>
            </li>
            <li><a href="glossary.html">Glossary and Terminological Reference</a></li>
            <li><a href="developer.html">Developer Guide</a></li>
            <li><a href="planning.html">Ongoing Development</a></li>
            <li><a href="changes.html">Change History</a></li>
        </ul>
    </div>

    <!-- Downloads -->
    <div style="border-top: double 1px white; padding-top: 10px;">
        <h3>Obtaining</h3>
        <ul>
            <li><a target="_blank" href="http://pypi.python.org/pypi/DendroPy">Install from the Python Package Index</a></li>
            <li><a target="_blank" href="http://pypi.python.org/packages/source/D/DendroPy/DendroPy-5.0.8.tar.gz">Download the Source Code Archive</a></li>
            <li><a target="_blank" href="http://github.com/jeetsukumaran/DendroPy">Clone the Source Code Repository</a></li>
        </ul>
    </div>

    <!-- Discussions -->
    <div style="border-top: double 1px white; padding-top: 10px; position: relative;">
        <h3><span style="text-align: left">Discussion</span><span style="position: absolute; right: 0; top: 10px "><img src="_static/google-groups-logo1.png" height="20px" alt="Google Groups" /></span></h3>
        <div style="margin-top: 15px;">
            <p style="font-size: 90%; margin-top: 3px; clear: both;">Join the <a href="http://groups.google.com/group/dendropy-users?hl=en">&quot; DendroPy Users&quot; </a>group to follow and participate in discussion, troubleshooting, help, information, suggestions, etc. on the usage and development of the DendroPy phylogenetic computing library.</p>
            <form action="http://groups.google.com/group/dendropy-users/boxsubscribe">
                <input type=text name=email>
                <input type=submit name="sub" value="Subscribe">
            </form>
            <p style="font-size: 90%; clear: both; padding-top: 5px; padding-bottom: 10px;">Enter your e-mail address in the box above and click the &quot;subscribe&quot; button to subscribe to the <a href="http://groups.google.com/group/dendropy-users?hl=en">&quot;dendropy-users&quot;</a> group, or click <a href="http://groups.google.com/group/dendropy-users?hl=en">here</a> to visit this group page directly.</p>
        </div>
    </div>

    <!-- Announcements -->
    <div style="border-top: double 1px white; padding-top: 10px; position: relative;">
        <h3><span style="text-align: left">Announcements</span><span style="position: absolute; right: 0; top: 10px "><img src="_static/google-groups-logo1.png" height="20px" alt="Google Groups" /></span></h3>
        <div style="margin-top: 15px;">
            <p style="font-size: 90%; margin-top: 3px; clear: both;">Join the <a href="http://groups.google.com/group/dendropy-announce?hl=en">&quot; DendroPy Announcements&quot; </a>group to receive announcements of new releases, updates, changes and other news of interest to DendroPy users and developers.</p>
            <form action="http://groups.google.com/group/dendropy-announce/boxsubscribe">
                <input type=text name=email>
                <input type=submit name="sub" value="Subscribe">
            </form>
            <p style="font-size: 90%; clear: both; padding-top: 5px; padding-bottom: 10px;">Enter your e-mail address in the box above and click the &quot;subscribe&quot; button to subscribe to the <a href="http://groups.google.com/group/dendropy-announce?hl=en">&quot; dendropy-announce&quot; </a>group, or click <a href="http://groups.google.com/group/dendropy-announce?hl=en">here</a> to visit this group page directly.</p>
        </div>
    </div>

    <!-- Development -->
    <div style="border-top: double 1px white; padding-top: 10px; position: relative; padding-bottom: 15px; margin-bottom:5px;">
        <h3><span style="text-align: left"><a href="https://github.com/jeetsukumaran/DendroPy/">Development</a></span><a href="https://github.com/jeetsukumaran/DendroPy/"><span style="position: absolute; right: 0; top: 10px "><img src="_static/Octocat.png" height="30px" alt="GitHub" /></span></a></h3>
        <div style="margin-top: 15px;">
            <!-- <a href="https://github.com/jeetsukumaran/DendroPy/issues">Issues</a> &bull; <a href="https://github.com/jeetsukumaran/DendroPy/subscription">Watch</a> &bull; <a href="https://github.com/jeetsukumaran/DendroPy/fork">Fork</a> &bull; <a href="https://github.com/jeetsukumaran/DendroPy/stargazers">Star</a> &bull; <a href="https://github.com/jeetsukumaran/">Follow</a> -->
            <ul>
                <li>                <span style="font-weight: bold;"><a href="https://github.com/jeetsukumaran/DendroPy/issues"><code>Issues</code></a></span> <span style="font-style: italic; font-size:80%;"> - Report bugs or request features</span></li>
                <li>     <span style="font-weight: bold;"><a href="https://github.com/jeetsukumaran/DendroPy/subscription"><code>&nbsp;Watch</code></a></span> <span style="font-style: italic; font-size:80%;"> - Follow development activity</span></li>
                <li>        <span style="font-weight: bold;"><a href="https://github.com/jeetsukumaran/DendroPy/fork"><code>&nbsp;&nbsp;Fork</code></a></span> <span style="font-style: italic; font-size:80%;"> - Contribute and collaborate</span></li>
                <li>  <span style="font-weight: bold;"><a href="https://github.com/jeetsukumaran/DendroPy/stargazers"><code>&nbsp;&nbsp;Star</code></a></span> <span style="font-style: italic; font-size:80%;"> - Throw some glitter, add some glamour</span></li>
        </div>
    </div>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="news.html" title="DendroPy News"
             >next</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary and Terminological Reference"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DendroPy 5.0.8 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">DendroPy 4 Changes and Migration Primer</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2009-2025, Jeet Sukumaran and Mark T. Holder.
    </div>
  </body>
</html>